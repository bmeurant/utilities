<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Associate Cloud Engineer Quizz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: #fff;
            padding: 20px 30px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1, h2 {
            color: #0056b3;
            text-align: center;
        }
        .question-block {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .question-text {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1em;
            color: #333;
        }
        .options label {
            display: block;
            margin-bottom: 8px;
            cursor: pointer;
            padding: 5px;
            border-radius: 3px;
            transition: background-color 0.2s ease;
        }
        .options label:hover {
            background-color: #e2e2e2;
        }
        .options input[type="radio"] {
            margin-right: 8px;
        }
        .feedback {
            margin-top: 10px;
            padding: 8px;
            border-radius: 4px;
            font-weight: bold;
        }
        .correct {
            background-color: #d4edda;
            color: #155724;
            border-color: #c3e6cb;
        }
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border-color: #f5c6cb;
        }
        .score-display {
            position: sticky;
            top: 0;
            background-color: #0056b3;
            color: white;
            padding: 10px 20px;
            text-align: center;
            font-size: 1.2em;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 1000;
            margin-bottom: 20px;
        }
        .score-total {
            font-weight: bold;
        }
        .footer {
            text-align: center;
            margin-top: 30px;
            font-size: 0.9em;
            color: #666;
        }
        /* Style for options once answer is selected */
        .answered .options label {
            pointer-events: none; /* Prevent changing selection */
        }
        .answered .options label.selected-correct {
            background-color: #c3e6cb; /* Light green for selected correct answer */
        }
        .answered .options label.selected-incorrect {
            background-color: #f5c6cb; /* Light red for selected incorrect answer */
        }
        .answered .options label.correct-answer-highlight {
            background-color: #d4edda; /* More vivid green for the correct answer (even if not selected) */
            border: 1px dashed #155724;
        }
        .submit-button {
            display: block;
            width: 200px;
            margin: 30px auto;
            padding: 15px 20px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.2em;
            cursor: not-allowed; /* Default to disabled state */
            opacity: 0.6;
            transition: opacity 0.3s ease, background-color 0.3s ease;
        }
        .submit-button:enabled {
            cursor: pointer;
            opacity: 1;
            background-color: #218838;
        }
        .submit-button:enabled:hover {
            background-color: #1e7e34;
        }
        .summary-section {
            margin-top: 40px;
            padding: 25px;
            border: 2px solid #0056b3;
            border-radius: 8px;
            background-color: #e7f0fa;
            text-align: center;
            display: none; /* Hidden by default */
        }
        .summary-section h3 {
            color: #0056b3;
            font-size: 1.5em;
            margin-bottom: 15px;
        }
        .summary-details p {
            font-size: 1.1em;
            margin: 8px 0;
        }
        .summary-details .pass {
            color: #28a745;
            font-weight: bold;
            font-size: 1.3em;
        }
        .summary-details .fail {
            color: #dc3545;
            font-weight: bold;
            font-size: 1.3em;
        }
    </style>
</head>
<body>
<div class="score-display">
    Score: <span id="current-score">0</span> / <span id="answered-count">0</span>
    (Total questions: <span id="total-questions">0</span>)
</div>
<div class="container">
    <h1>Associate Cloud Engineer Quizz</h1>
    <div id="quiz-questions">
    </div>

    <button id="submit-quiz" class="submit-button" disabled>Submit Quiz</button>

    <div id="quiz-summary" class="summary-section">
        <h3>Quiz Results Summary</h3>
        <div class="summary-details">
            <p>Correct Answers: <span id="summary-correct">0</span></p>
            <p>Incorrect Answers: <span id="summary-incorrect">0</span></p>
            <p>Percentage: <span id="summary-percentage">0%</span></p>
            <p id="summary-pass-fail" class=""></p>
        </div>
    </div>

    <div class="footer">
        Generated by your AI assistant.
    </div>
</div>

<script>
    // Data containing all questions, options, and correct answers.
    const quizQuestions = [
        {
            question: "1. Your company is setting up a new Google Cloud project for a highly sensitive application. You need to ensure that all resources deployed within this project automatically enforce data residency requirements by only allowing deployment in the europe-west1 region. Which of the following is the most effective and scalable way to enforce this policy?",
            options: [
                "A. Manually configure region restrictions for each service after deployment.",
                "B. Create a custom IAM role that restricts resource creation to europe-west1.",
                "C. Use an Organization Policy to create a 'Resource Location Restriction' constraint.",
                "D. Configure firewall rules to block traffic from outside europe-west1."
            ],
            correctAnswer: "C. Use an Organization Policy to create a 'Resource Location Restriction' constraint."
        },
        {
            question: "2. A development team needs to deploy a containerized application to Google Cloud. They require a fully managed platform that allows rapid deployments, scales automatically based on traffic (including scaling to zero), and supports custom domains and HTTPS without manual certificate management. Which Google Cloud service is the best fit?",
            options: [
                "A. Compute Engine",
                "B. Google Kubernetes Engine (GKE)",
                "C. Cloud Run",
                "D. App Engine Flexible Environment"
            ],
            correctAnswer: "C. Cloud Run"
        },
        {
            question: "3. You are designing a data analytics pipeline. Raw data arrives in CSV files in a Cloud Storage bucket. You need a serverless service to automatically process these files, transform them, and load them into BigQuery for analysis. Which Google Cloud service should you use to trigger the processing when new files arrive?",
            options: [
                "A. Cloud Dataflow",
                "B. Cloud Functions",
                "C. Cloud Pub/Sub",
                "D. Cloud Composer"
            ],
            correctAnswer: "B. Cloud Functions"
        },
        {
            question: "4. Your application requires a highly available, relational database that supports standard SQL and automatically handles replication, patching, and backups. You prefer a fully managed service to minimize operational overhead. Which Google Cloud service meets these requirements?",
            options: [
                "A. Compute Engine with PostgreSQL installed",
                "B. Cloud Spanner",
                "C. Cloud SQL",
                "D. Cloud Bigtable"
            ],
            correctAnswer: "C. Cloud SQL"
        },
        {
            question: "5. You need to migrate an existing web application running on an on-premises Linux server with a MySQL database to Google Cloud. The application architecture should remain largely unchanged, and you want to minimize refactoring. Which Google Cloud compute and database services combination would you recommend?",
            options: [
                "A. App Engine Standard and Cloud Firestore",
                "B. Cloud Run and Cloud Spanner",
                "C. Compute Engine (Linux VM) and Cloud SQL for MySQL",
                "D. Google Kubernetes Engine and Cloud Bigtable"
            ],
            correctAnswer: "C. Compute Engine (Linux VM) and Cloud SQL for MySQL"
        },
        {
            question: "6. Your company needs to store large archives of historical data (petabytes) that are accessed very rarely (less than once a year) but must be retained for compliance purposes. The primary goal is to minimize storage costs. Which Cloud Storage class is most appropriate?",
            options: [
                "A. Standard",
                "B. Nearline",
                "C. Coldline",
                "D. Archive"
            ],
            correctAnswer: "D. Archive"
        },
        {
            question: "7. You are setting up a VPC network for your Google Cloud project. You want to ensure that all virtual machines in a specific subnet can access the internet, but external instances cannot initiate connections to them. Which network configuration should you use?",
            options: [
                "A. Apply an ingress firewall rule allowing all traffic.",
                "B. Assign public IP addresses to all VMs and use no egress rule.",
                "C. Use Cloud NAT (Network Address Translation) for the subnet.",
                "D. Peer the VPC with another network that has internet access."
            ],
            correctAnswer: "C. Use Cloud NAT (Network Address Translation) for the subnet."
        },
        {
            question: "8. A new employee joins your team and needs permission to view all resources in a Google Cloud project but should not be able to modify or delete anything. Which IAM predefined role should you assign to this employee at the project level?",
            options: [
                "A. Editor",
                "B. Viewer",
                "C. Owner",
                "D. Project IAM Admin"
            ],
            correctAnswer: "B. Viewer"
        },
        {
            question: "9. You need to transfer 50 TB of data from an on-premises data center to Cloud Storage. Your internet connection is slow and unreliable. What is the most efficient and reliable method to perform this large-scale data transfer to Google Cloud?",
            options: [
                "A. Use `gsutil cp` over the internet.",
                "B. Send the data via a Cloud VPN connection.",
                "C. Order a Transfer Appliance from Google.",
                "D. Use Storage Transfer Service for online migration."
            ],
            correctAnswer: "C. Order a Transfer Appliance from Google."
        },
        {
            question: "10. Your company requires a dedicated, private, and high-bandwidth connection between its on-premises data center and Google Cloud VPC network, ensuring data does not traverse the public internet. Which Google Cloud networking product is designed for this purpose?",
            options: [
                "A. Cloud VPN",
                "B. Shared VPC",
                "C. Dedicated Interconnect",
                "D. Cloud CDN"
            ],
            correctAnswer: "C. Dedicated Interconnect"
        },
        {
            question: "11. You have a web application running on Compute Engine instances that are behind a global external HTTP(S) Load Balancer. You need to ensure that the load balancer only sends traffic to instances that are healthy and responsive. Which feature of the load balancer accomplishes this?",
            options: [
                "A. Session affinity",
                "B. Autoscaling",
                "C. Health checks",
                "D. CDN integration"
            ],
            correctAnswer: "C. Health checks"
        },
        {
            question: "12. Your organization has multiple Google Cloud projects, and you want to centralize network management, including IP address allocation and firewall rules, across these projects. Which Google Cloud networking feature should you implement?",
            options: [
                "A. VPC Network Peering",
                "B. Shared VPC",
                "C. Cloud VPN",
                "D. Cloud Router"
            ],
            correctAnswer: "B. Shared VPC"
        },
        {
            question: "13. You are deploying a highly available application using Compute Engine instances. You need to ensure that if an instance becomes unresponsive, it is automatically replaced. Which Compute Engine feature or service enables this auto-healing capability?",
            options: [
                "A. Preemptible VMs",
                "B. Custom machine types",
                "C. Managed Instance Groups (MIGs) with health checks",
                "D. Sole-tenant nodes"
            ],
            correctAnswer: "C. Managed Instance Groups (MIGs) with health checks"
        },
        {
            question: "14. A new microservice needs to be deployed that processes messages from a Pub/Sub topic. The service should be highly scalable, fully managed, and only consume resources when messages are available. Which Google Cloud compute service is best suited for this event-driven architecture?",
            options: [
                "A. Compute Engine",
                "B. App Engine Flexible Environment",
                "C. Cloud Functions",
                "D. Google Kubernetes Engine (GKE)"
            ],
            correctAnswer: "C. Cloud Functions"
        },
        {
            question: "15. You are building an e-commerce application that requires a database with strong consistency, high availability, and global scalability, capable of handling millions of transactions per second. Your data is relational, and you need SQL queries. Which Google Cloud database service is designed for this use case?",
            options: [
                "A. Cloud SQL",
                "B. Cloud Firestore",
                "C. Cloud Spanner",
                "D. Cloud Bigtable"
            ],
            correctAnswer: "C. Cloud Spanner"
        },
        {
            question: "16. You need to analyze vast amounts of semi-structured data (e.g., JSON logs) in a serverless and cost-effective manner using standard SQL queries. The data volume is in the petabytes, and you don't want to manage any infrastructure. Which Google Cloud service should you choose?",
            options: [
                "A. Cloud SQL",
                "B. Cloud Bigtable",
                "C. BigQuery",
                "D. Cloud Storage"
            ],
            correctAnswer: "C. BigQuery"
        },
        {
            question: "17. Your application is experiencing performance issues due to slow database queries. You want to implement a caching layer to reduce the load on your primary database and speed up data retrieval. Which Google Cloud service provides a fully managed in-memory data store for caching?",
            options: [
                "A. Cloud Storage",
                "B. Cloud SQL",
                "C. Memorystore",
                "D. Cloud Bigtable"
            ],
            correctAnswer: "C. Memorystore"
        },
        {
            question: "18. You need to collect logs from various sources across your Google Cloud environment (Compute Engine, App Engine, Cloud Functions) and centralize them for analysis, search, and export. Which Google Cloud service should you use?",
            options: [
                "A. Cloud Monitoring",
                "B. Cloud Trace",
                "C. Cloud Audit Logs",
                "D. Cloud Logging"
            ],
            correctAnswer: "D. Cloud Logging"
        },
        {
            question: "19. Your team wants to implement continuous deployment for your Google Kubernetes Engine (GKE) applications. You need a service that can automatically build container images from source code, store them, and deploy them to GKE upon code changes. Which Google Cloud services would be part of this CI/CD pipeline?",
            options: [
                "A. Cloud Build, Container Registry, GKE",
                "B. Cloud Functions, Cloud SQL, Cloud Storage",
                "C. Cloud Dataflow, BigQuery, Looker Studio",
                "D. Cloud CDN, Cloud Load Balancing, Cloud Armor"
            ],
            correctAnswer: "A. Cloud Build, Container Registry, GKE"
        },
        {
            question: "20. You need to monitor the performance of your Compute Engine instances, track CPU utilization, memory usage, and network traffic, and set up custom dashboards and alerts. Which Google Cloud service is designed for this purpose?",
            options: [
                "A. Cloud Logging",
                "B. Cloud Trace",
                "C. Cloud Monitoring",
                "D. Cloud Audit Logs"
            ],
            correctAnswer: "C. Cloud Monitoring"
        },
        {
            question: "21. Your company wants to migrate an existing Hadoop cluster from on-premises to a fully managed, scalable service on Google Cloud. You need to run Apache Spark and Hadoop MapReduce jobs without managing individual servers. Which Google Cloud service should you use?",
            options: [
                "A. Compute Engine",
                "B. Cloud Dataflow",
                "C. Dataproc",
                "D. BigQuery"
            ],
            correctAnswer: "C. Dataproc"
        },
        {
            question: "22. You need to grant a service account the minimum necessary permissions to read objects from a specific Cloud Storage bucket. Which predefined IAM role should you assign to the service account?",
            options: [
                "A. roles/storage.admin",
                "B. roles/storage.objectViewer",
                "C. roles/storage.objectCreator",
                "D. roles/viewer"
            ],
            correctAnswer: "B. roles/storage.objectViewer"
        },
        {
            question: "23. You've deployed a new version of your web application on App Engine. You want to test this new version with a small percentage of your users (e.g., 5%) before rolling it out to everyone. Which App Engine feature allows you to control traffic distribution between different versions?",
            options: [
                "A. Instance scaling settings",
                "B. Traffic splitting",
                "C. Firewall rules",
                "D. Health checks"
            ],
            correctAnswer: "B. Traffic splitting"
        },
        {
            question: "24. Your team needs to securely store sensitive API keys and database credentials for your application. These secrets need to be versioned, have fine-grained access control, and be auditable. Which Google Cloud service is designed for managing secrets?",
            options: [
                "A. Cloud Storage",
                "B. Cloud Key Management Service (KMS)",
                "C. Secret Manager",
                "D. Environment variables on VMs"
            ],
            correctAnswer: "C. Secret Manager"
        },
        {
            question: "25. You are responsible for ensuring your Google Cloud environment is compliant with industry standards. You need to review all administrative activities and data access events across your projects to detect suspicious behavior. Which Google Cloud service provides these audit logs?",
            options: [
                "A. Cloud Logging",
                "B. Cloud Monitoring",
                "C. Cloud Audit Logs",
                "D. VPC Flow Logs"
            ],
            correctAnswer: "C. Cloud Audit Logs"
        },
        {
            question: "26. Your organization needs to create a custom VPC network that spans multiple regions and has specific subnet IP ranges for different environments (e.g., development, staging, production). Which type of VPC network should you create?",
            options: [
                "A. Auto mode network",
                "B. Default network",
                "C. Custom mode network",
                "D. Legacy network"
            ],
            correctAnswer: "C. Custom mode network"
        },
        {
            question: "27. You want to provision and manage your Google Cloud infrastructure using declarative configuration files rather than manual console operations or imperative scripts. Which Google Cloud infrastructure as code service is the native solution for this?",
            options: [
                "A. Terraform",
                "B. Cloud Build",
                "C. Cloud Deployment Manager",
                "D. Chef/Puppet"
            ],
            correctAnswer: "C. Cloud Deployment Manager"
        },
        {
            question: "28. An application is designed to store user-generated content (images, videos) that needs to be accessible globally with high durability and availability. The content is accessed frequently. Which Google Cloud storage service is ideal for this use case?",
            options: [
                "A. Persistent Disk",
                "B. Cloud SQL",
                "C. Cloud Storage (Standard storage class)",
                "D. Filestore"
            ],
            correctAnswer: "C. Cloud Storage (Standard storage class)"
        },
        {
            question: "29. You need to process large batches of data (terabytes) using a serverless, unified programming model (Apache Beam). The processing should be fully managed, automatically scale, and handle failures gracefully. Which Google Cloud service is best suited?",
            options: [
                "A. Dataproc",
                "B. Cloud Functions",
                "C. Cloud Dataflow",
                "D. Compute Engine"
            ],
            correctAnswer: "C. Cloud Dataflow"
        },
        {
            question: "30. Your Compute Engine instances need to securely and privately access Google APIs (like Cloud Storage or BigQuery) without using external IP addresses or traversing the public internet. Which Google Cloud networking feature enables this?",
            options: [
                "A. Cloud VPN",
                "B. Cloud NAT",
                "C. Private Google Access",
                "D. VPC Network Peering"
            ],
            correctAnswer: "C. Private Google Access"
        },
        {
            question: "31. You are troubleshooting a latency issue in your microservices application. You need to visualize the end-to-end flow of requests across different services, identify bottlenecks, and see where time is being spent. Which Google Cloud service provides this capability?",
            options: [
                "A. Cloud Logging",
                "B. Cloud Monitoring",
                "C. Cloud Trace",
                "D. Cloud Profiler"
            ],
            correctAnswer: "C. Cloud Trace"
        },
        {
            question: "32. Your company wants to create a shared file system that can be simultaneously mounted by multiple Compute Engine instances for use cases like shared storage for content management systems or developer home directories. Which Google Cloud service provides managed NFS file storage?",
            options: [
                "A. Cloud Storage",
                "B. Persistent Disk",
                "C. Filestore",
                "D. Cloud Memorystore"
            ],
            correctAnswer: "C. Filestore"
        },
        {
            question: "33. You need to create an SSH key pair to connect to a new Compute Engine instance. What is the most common and recommended command-line tool to generate this key pair on a Linux/macOS machine?",
            options: [
                "A. `gcloud compute ssh`",
                "B. `ssh-keygen`",
                "C. `openssl genrsa`",
                "D. `gcloud auth login`"
            ],
            correctAnswer: "B. `ssh-keygen`"
        },
        {
            question: "34. Your team wants to deploy a stateless web application that needs to scale very rapidly and cost-effectively from zero instances to handle spikes in traffic. You prefer to package your application as a Docker container. Which Google Cloud service is the best fit?",
            options: [
                "A. Compute Engine",
                "B. App Engine Standard",
                "C. Google Kubernetes Engine (GKE)",
                "D. Cloud Run"
            ],
            correctAnswer: "D. Cloud Run"
        },
        {
            question: "35. You need to schedule a daily batch job to run a Python script on a Compute Engine instance at 2 AM every day. The job should start the instance, run the script, and then stop the instance. Which Google Cloud services can be used in combination to achieve this automation?",
            options: [
                "A. Cloud Logging and Cloud Monitoring",
                "B. Cloud Scheduler and Cloud Functions",
                "C. Cloud Build and Container Registry",
                "D. Dataproc and BigQuery"
            ],
            correctAnswer: "B. Cloud Scheduler and Cloud Functions"
        },
        {
            question: "36. A new security policy requires that all external HTTP(S) traffic to your web application, which is behind a Google Cloud Load Balancer, must be inspected for common web vulnerabilities (e.g., SQL injection, cross-site scripting). Which Google Cloud service provides Web Application Firewall (WAF) capabilities for this purpose?",
            options: [
                "A. Cloud VPN",
                "B. Cloud Armor",
                "C. Cloud DNS",
                "D. Cloud CDN"
            ],
            correctAnswer: "B. Cloud Armor"
        },
        {
            question: "37. You want to implement a disaster recovery plan for your critical Compute Engine application. This plan includes creating automated, scheduled backups of your persistent disks that are stored in a different region. Which Compute Engine feature enables this?",
            options: [
                "A. Live Migration",
                "B. Managed Instance Groups",
                "C. Persistent Disk snapshots",
                "D. Custom images"
            ],
            correctAnswer: "C. Persistent Disk snapshots"
        },
        {
            question: "38. Your application needs to publish messages to a distributed, scalable messaging service that decouples senders and receivers. Multiple subscribers need to receive copies of the same messages. Which Google Cloud service is designed for this asynchronous messaging?",
            options: [
                "A. Cloud Tasks",
                "B. Cloud Pub/Sub",
                "C. Cloud Queues",
                "D. Cloud Functions"
            ],
            correctAnswer: "B. Cloud Pub/Sub"
        },
        {
            question: "39. You have several Compute Engine instances, and you need to ensure that only specific internal IP addresses from your VPC network can access them via SSH (port 22). Which Google Cloud networking component should you configure to enforce this access control?",
            options: [
                "A. Routes",
                "B. Load balancers",
                "C. Firewall rules",
                "D. Network interfaces"
            ],
            correctAnswer: "C. Firewall rules"
        },
        {
            question: "40. Your company uses an on-premises Active Directory for user authentication. You want to integrate this with Google Cloud IAM to manage access to Google Cloud resources for your existing users. Which Google Cloud service facilitates this identity federation?",
            options: [
                "A. Cloud Identity",
                "B. Identity-Aware Proxy (IAP)",
                "C. Service Accounts",
                "D. Managed Service for Microsoft Active Directory"
            ],
            correctAnswer: "A. Cloud Identity"
        },
        {
            question: "41. You need to create an image from an existing Compute Engine instance's boot disk to create new identical instances for a testing environment. Which `gcloud` command is used to create a custom image from a disk?",
            options: [
                "A. `gcloud compute instances create-image`",
                "B. `gcloud compute disks snapshot`",
                "C. `gcloud compute images create --source-disk`",
                "D. `gcloud compute instance-templates create`"
            ],
            correctAnswer: "C. `gcloud compute images create --source-disk`"
        },
        {
            question: "42. Your application experiences fluctuating traffic patterns throughout the day. You want to ensure your Compute Engine instances automatically scale up during peak hours and scale down during off-peak hours to optimize costs and performance. Which feature of Managed Instance Groups (MIGs) achieves this?",
            options: [
                "A. Auto-healing",
                "B. Instance templates",
                "C. Autoscaling",
                "D. Rolling updates"
            ],
            correctAnswer: "C. Autoscaling"
        },
        {
            question: "43. You are designing a mobile backend for an application that requires a NoSQL document database with real-time synchronization capabilities, offline support, and client-side SDKs. Which Google Cloud service is ideal for this?",
            options: [
                "A. Cloud SQL",
                "B. Cloud Bigtable",
                "C. Cloud Firestore",
                "D. Memorystore"
            ],
            correctAnswer: "C. Cloud Firestore"
        },
        {
            question: "44. Your team wants to centralize all Docker images for your applications in Google Cloud. You need a secure, private, and fully managed service for storing and managing these container images. Which Google Cloud service provides a private container registry?",
            options: [
                "A. Cloud Storage",
                "B. Artifact Registry",
                "C. Docker Hub",
                "D. Cloud Source Repositories"
            ],
            correctAnswer: "B. Artifact Registry"
        },
        {
            question: "45. You need to configure external DNS for your Google Cloud applications. You require a highly available and scalable DNS service that integrates seamlessly with your Google Cloud resources and provides features like DNSSEC and public DNS zones. Which Google Cloud service should you use?",
            options: [
                "A. On-premises DNS servers",
                "B. Third-party DNS provider",
                "C. Cloud DNS",
                "D. Cloud CDN"
            ],
            correctAnswer: "C. Cloud DNS"
        },
        {
            question: "46. Your company has a large dataset in CSV files that needs to be loaded into BigQuery for analysis. The files are currently in a Google Cloud Storage bucket. Which BigQuery command or method is most efficient for bulk loading data from Cloud Storage into a BigQuery table?",
            options: [
                "A. `INSERT INTO` statement",
                "B. `bq load` command or BigQuery UI data load",
                "C. Stream data using Pub/Sub",
                "D. Use Cloud SQL Federation"
            ],
            correctAnswer: "B. `bq load` command or BigQuery UI data load"
        },
        {
            question: "47. You need to migrate a legacy application to Google Cloud that uses a specific version of a Linux distribution and custom libraries. The application requires full control over the operating system. Which Google Cloud compute service offers the most flexibility for OS customization?",
            options: [
                "A. App Engine Standard",
                "B. Cloud Run",
                "C. Google Kubernetes Engine (GKE)",
                "D. Compute Engine"
            ],
            correctAnswer: "D. Compute Engine"
        },
        {
            question: "48. Your company has an existing on-premises network and needs to connect it to a Google Cloud VPC network for hybrid cloud operations. You require a secure, encrypted connection over the public internet. Which Google Cloud networking product is suitable for this?",
            options: [
                "A. Dedicated Interconnect",
                "B. Partner Interconnect",
                "C. Cloud VPN",
                "D. Direct Peering"
            ],
            correctAnswer: "C. Cloud VPN"
        },
        {
            question: "49. You need to ensure that your Compute Engine instances have static internal IP addresses that persist even if the instance is stopped and restarted. Which type of IP address should you configure for the network interface?",
            options: [
                "A. Ephemeral external IP",
                "B. Ephemeral internal IP",
                "C. Static external IP",
                "D. Static internal IP"
            ],
            correctAnswer: "D. Static internal IP"
        },
        {
            question: "50. You want to deploy a globally distributed application that provides low-latency content delivery to users worldwide. You need to cache static content at edge locations close to your users. Which Google Cloud service is designed for content delivery and caching?",
            options: [
                "A. Cloud Load Balancing",
                "B. Cloud CDN (Content Delivery Network)",
                "C. Cloud Interconnect",
                "D. Cloud DNS"
            ],
            correctAnswer: "B. Cloud CDN (Content Delivery Network)"
        }
    ];

    let score = 0;
    let answeredCount = 0;
    const totalQuestions = quizQuestions.length;
    const quizContainer = document.getElementById('quiz-questions');
    const currentScoreSpan = document.getElementById('current-score');
    const answeredCountSpan = document.getElementById('answered-count');
    const totalQuestionsSpan = document.getElementById('total-questions');
    const submitButton = document.getElementById('submit-quiz');
    const quizSummary = document.getElementById('quiz-summary');
    const summaryCorrect = document.getElementById('summary-correct');
    const summaryIncorrect = document.getElementById('summary-incorrect');
    const summaryPercentage = document.getElementById('summary-percentage');
    const summaryPassFail = document.getElementById('summary-pass-fail');

    // Update the total questions display initially
    totalQuestionsSpan.textContent = totalQuestions;

    function renderQuiz() {
        try {
            if (quizQuestions.length === 0) {
                quizContainer.innerHTML = "<p style='color:orange;'>No questions loaded. Please check the quiz data.</p>";
                return;
            }
            quizQuestions.forEach((q, index) => {
                const questionBlock = document.createElement('div');
                questionBlock.className = 'question-block';
                questionBlock.id = `question-${index}`;

                const questionText = document.createElement('div');
                questionText.className = 'question-text';
                questionText.textContent = `${index + 1}. ${q.question}`; // Add question number
                questionBlock.appendChild(questionText);

                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'options';

                q.options.forEach((option, optionIndex) => {
                    const label = document.createElement('label');
                    const radio = document.createElement('input');
                    radio.type = 'radio';
                    radio.name = `question-${index}`;
                    radio.value = option; // Store the full option text as value

                    // Add data attributes to easily retrieve info in onAnswerSelected
                    radio.dataset.questionIndex = index;
                    radio.dataset.optionText = option;

                    // Attach event listener for real-time scoring
                    radio.addEventListener('change', onAnswerSelected);

                    label.appendChild(radio);
                    label.appendChild(document.createTextNode(option));
                    optionsDiv.appendChild(label);
                });

                questionBlock.appendChild(optionsDiv);

                const feedbackDiv = document.createElement('div');
                feedbackDiv.className = 'feedback';
                feedbackDiv.id = `feedback-${index}`;
                questionBlock.appendChild(feedbackDiv);

                quizContainer.appendChild(questionBlock);
            });
        } catch (error) {
            console.error("Error during quiz rendering:", error);
            quizContainer.innerHTML = "<p style='color:red;'>An error occurred while loading questions. Please check the browser console for more details.</p>";
        }
    }

    function onAnswerSelected(event) {
        const selectedRadio = event.target;
        const questionIndex = parseInt(selectedRadio.dataset.questionIndex);
        const selectedOptionText = selectedRadio.dataset.optionText;

        const questionBlock = document.getElementById(`question-${questionIndex}`);
        const feedbackDiv = document.getElementById(`feedback-${questionIndex}`);
        const optionsDiv = questionBlock.querySelector('.options');

        // Check if this question has already been answered
        if (questionBlock.classList.contains('answered')) {
            return;
        }

        // Mark question as answered and disable its radios
        questionBlock.classList.add('answered');
        const radios = optionsDiv.querySelectorAll(`input[name="question-${questionIndex}"]`);
        radios.forEach(radio => radio.disabled = true);

        const questionData = quizQuestions[questionIndex];
        let isCorrect = (selectedOptionText === questionData.correctAnswer);

        if (isCorrect) {
            score++;
            feedbackDiv.textContent = "Correct!";
            feedbackDiv.classList.add('correct');
            feedbackDiv.classList.remove('incorrect');
            selectedRadio.parentElement.classList.add('selected-correct'); // Apply class to the label of the selected radio
        } else {
            feedbackDiv.textContent = `Incorrect. The correct answer was: ${questionData.correctAnswer}`;
            feedbackDiv.classList.add('incorrect');
            feedbackDiv.classList.remove('correct');
            selectedRadio.parentElement.classList.add('selected-incorrect'); // Apply class to the label of the selected radio

            // Highlight the correct answer's label
            optionsDiv.querySelectorAll('label').forEach(label => {
                const labelText = label.textContent.trim();
                if (labelText.startsWith(questionData.correctAnswer)) {
                    label.classList.add('correct-answer-highlight');
                }
            });
        }

        // Update score display in the sticky header
        answeredCount++;
        currentScoreSpan.textContent = score;
        answeredCountSpan.textContent = answeredCount;

        // Check if all questions are answered to enable submit button
        if (answeredCount === totalQuestions) {
            submitButton.disabled = false;
        }
    }

    function showQuizSummary() {
        const incorrectAnswers = totalQuestions - score;
        const percentage = (score / totalQuestions) * 100;

        summaryCorrect.textContent = score;
        summaryIncorrect.textContent = incorrectAnswers;
        summaryPercentage.textContent = `${percentage.toFixed(2)}%`; // Format to 2 decimal places

        summaryPassFail.classList.remove('pass', 'fail'); // Clear previous classes
        if (percentage >= 70) {
            summaryPassFail.textContent = "PASS";
            summaryPassFail.classList.add('pass');
        } else {
            summaryPassFail.textContent = "FAIL";
            summaryPassFail.classList.add('fail');
        }

        quizSummary.style.display = 'block'; // Show the summary section
        submitButton.style.display = 'none'; // Hide the submit button

        // Scroll to the summary section
        quizSummary.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    // Add event listener to the submit button
    submitButton.addEventListener('click', showQuizSummary);

    // Initialize the quiz when the page loads
    document.addEventListener('DOMContentLoaded', renderQuiz);
</script>
</body>
</html>